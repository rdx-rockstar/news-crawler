$(document).ready(function(){$("#phone").mask("(999) 999-9999",{placeholder:"x"}),$("#j-forms").validate({errorClass:"error-view",validClass:"success-view",errorElement:"span",onkeyup:!1,onclick:!1,rules:{name:{required:!0},way_to_communicate:{required:!0},email:{required:!0,email:!0},email_message:{required:!0},time:{required:!0},phone:{required:!0},phone_message:{required:!0}},messages:{name:{required:"Please enter your name"},way_to_communicate:{required:"Please select way to communicate"},email:{required:"Please enter your email",email:"Incorrect email format"},email_message:{required:"Please enter your message"},phone:{required:"Please enter your phone"},time:{required:"Please select time for call"},phone_message:{required:"Please enter your message"}},highlight:function(e,s,t){$(e).closest(".input").removeClass(t).addClass(s),($(e).is(":checkbox")||$(e).is(":radio"))&&$(e).closest(".check").removeClass(t).addClass(s)},unhighlight:function(e,s,t){$(e).closest(".input").removeClass(s).addClass(t),($(e).is(":checkbox")||$(e).is(":radio"))&&$(e).closest(".check").removeClass(s).addClass(t)},errorPlacement:function(e,s){$(s).is(":checkbox")||$(s).is(":radio")?$(s).closest(".check").append(e):$(s).closest(".unit").append(e)},submitHandler:function(){$("#j-forms").ajaxSubmit({target:"#j-forms #response",error:function(e){$("#j-forms #response").html("An error occured: "+e.status+" - "+e.statusText)},beforeSubmit:function(){$('#j-forms button[type="submit"]').attr("disabled",!0).addClass("processing")},success:function(){$('#j-forms button[type="submit"]').attr("disabled",!1).removeClass("processing"),$("#j-forms .success-message").length&&($("#j-forms .input").removeClass("success-view error-view"),$("#j-forms .check").removeClass("success-view error-view"),$("#j-forms").resetForm(),$('#j-forms button[type="submit"]').attr("disabled",!0),$("#j-forms .multi-prev-btn").attr("disabled",!0),setTimeout(function(){$("#j-forms #response").removeClass("success-message").html(""),$('#j-forms button[type="submit"]').attr("disabled",!1),$("#j-forms .multi-prev-btn").attr("disabled",!1),$("#j-forms .multi-prev-btn").css("display","none"),$("#j-forms .multi-submit-btn").css("display","none"),$("#j-forms fieldset").removeClass("active-fieldset"),$("#j-forms fieldset").eq(0).addClass("active-fieldset"),$("#j-forms .multi-next-btn").css("display","block")},5e3))}})}}),$("#way_to_communicate").change(function(){$("#email_to_communicate").is(":checked")&&($("#email-step").hasClass("hidden")&&$("#email-step").removeClass("hidden"),$("#phone-step").hasClass("hidden")||$("#phone-step").addClass("hidden")),$("#phone_to_communicate").is(":checked")&&($("#phone-step").hasClass("hidden")&&$("#phone-step").removeClass("hidden"),$("#email-step").hasClass("hidden")||$("#email-step").addClass("hidden"))}).change(),$("form.j-multistep").length&&$("form.j-multistep").each(function(){var e=$(this).attr("id"),s=$("#"+e+" fieldset").length,t=$("#"+e+" .step").length,a=$("#"+e+" .multi-next-btn"),i=$("#"+e+" .multi-prev-btn"),l=$("#"+e+" .multi-submit-btn");$("#"+e+" fieldset").eq(0).addClass("active-fieldset"),t&&$("#"+e+" .step").eq(0).addClass("active-step"),$("#"+e+" fieldset").eq(0).hasClass("active-fieldset")&&(l.css("display","none"),i.css("display","none")),a.on("click",function(){return 1!=$("#"+e).valid()?!1:($("#"+e+" fieldset.active-fieldset").removeClass("active-fieldset").next("fieldset").addClass("active-fieldset"),t&&$("#"+e+" .step.active-step").removeClass("active-step").addClass("passed-step").next(".step").addClass("active-step"),i.css("display","block"),$("#"+e+" fieldset").eq(s-1).hasClass("active-fieldset")&&(l.css("display","block"),a.css("display","none")),void 0)}),i.on("click",function(){$("#"+e+" fieldset.active-fieldset").removeClass("active-fieldset").prev("fieldset").addClass("active-fieldset"),t&&$("#"+e+" .step.active-step").removeClass("active-step").prev(".step").removeClass("passed-step").addClass("active-step"),$("#"+e+" fieldset").eq(0).hasClass("active-fieldset")&&i.css("display","none"),$("#"+e+" fieldset").eq(s-2).hasClass("active-fieldset")&&(l.css("display","none"),a.css("display","block"))})})});